# 管理者セットアップ手順

## 概要
このシステムには「一般ユーザー」と「管理者」の2つの権限があります。
管理者は書籍の登録や全貸出の管理ができます。

---

## 1. 管理者アカウントの作成手順

### ステップ1: 通常のユーザー登録
1. アプリにアクセス（https://library-ldcn.onrender.com）
2. 「新規登録」から名前・メールアドレス・パスワードを入力して登録
3. この時点では「一般ユーザー」として登録される

### ステップ2: データベースで権限を変更
1. [Neon](https://console.neon.tech) にログイン
2. プロジェクトを選択
3. 左メニューの **「Tables」** をクリック
4. **`users`** テーブルを選択
5. 管理者にしたいユーザーの行を見つける
6. **`role`** カラムの値を **`1`** に変更する
   - `2` = 一般ユーザー（デフォルト）
   - `1` = 管理者
7. 変更を保存

### ステップ3: 確認
- 管理者アカウントでログインし直す
- ナビゲーションに「書籍管理」メニューが表示されることを確認
- 書籍登録ページにアクセスできることを確認

---

## 2. 管理者ができること

| 機能 | 説明 |
|---|---|
| 書籍登録 | ISBNスキャンまたは手動入力で新しい書籍を追加 |
| 書籍管理 | 登録済み書籍の一覧管理（検索・確認） |
| 貸出管理 | 全ユーザーの貸出状況を一覧で確認 |

---

## 3. 書籍登録の流れ

### ISBNスキャンで登録（推奨）
1. 「書籍登録」ページを開く
2. ISBNコード欄に書籍のISBNを入力（または左側のスキャナーで読み取り）
3. 「検索」ボタンを押すと、書籍情報が自動で入力される
4. 内容を確認して「登録」ボタンを押す

### 同じ本が複数冊ある場合
- 同じISBNで再度登録すると、自動的に「冊2」「冊3」として追加される
- 画面上では「タイトル [冊1]」「タイトル [冊2]」と表示される
- 物理的な本にもシール等で冊番号を貼ると管理しやすい

### 手動で登録
- ISBN検索で見つからない書籍は、タイトル・著者名・ISBNを手動で入力する

---

## 4. 複数の管理者を設定する場合
- 上記のステップ2と同じ手順で、別のユーザーの`role`も`1`に変更する
- 管理者の数に制限はない

---

## 5. 注意事項
- 管理者権限の変更はNeonのデータベースから直接行う必要がある
- 一般ユーザーが管理者用のページにアクセスしようとすると、アクセス拒否される
- 管理者アカウントのパスワードは安全なものを設定すること
