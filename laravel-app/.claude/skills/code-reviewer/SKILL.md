---
name: code-reviewer
description: コードレビューとリファクタリング提案を実施
disable-model-invocation: true
argument-hint: "[ファイルパス or 変更内容]"
---

# コードレビュー・リファクタリングスキル

$ARGUMENTS のコードレビューを実施します。

## プロジェクト固有のルール（CLAUDE.mdより）
- MVP重視：実用最小限の構成を維持
- 余計な機能追加は提案しない

## レビュー観点

### 1. 必須チェック項目
- [ ] セキュリティ脆弱性（XSS, SQLインジェクション, CSRF等）
- [ ] パフォーマンス問題（N+1クエリ等）
- [ ] エラーハンドリングの適切性
- [ ] バリデーションの網羅性

### 2. コード品質
- [ ] 命名の明確さ
- [ ] 関数の単一責任
- [ ] 不要なコードの有無
- [ ] コメントの必要性

### 3. Laravel固有
- [ ] Eloquentリレーションの適切な使用
- [ ] ミドルウェア・認可の正しさ
- [ ] マスアサインメント保護（$fillable）
- [ ] Bladeテンプレートのエスケープ

## 出力形式

```
## レビュー結果

### 問題点（修正必須）
- [ファイル:行番号] 内容

### 改善提案（任意）
- [ファイル:行番号] 内容

### Good Points
- 良い点があれば記載
```

## 注意事項
- 指摘は具体的なコード箇所を明示
- 改善提案は実装例を含める
- 「なぜ問題か」を簡潔に説明
