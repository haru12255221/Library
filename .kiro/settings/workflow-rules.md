# Kiro ワークフロールール

## 🚨 最重要ルール：実際のコードを絶対的な基準とする

### 記憶ではなく実際のファイルを確認

**絶対原則**: コンポーネント、ファイル、設定を参照する前に必ず実際のコードを確認する

#### 必須確認手順
1. **ファイル存在確認**: `listDirectory`または`fileSearch`で実際の存在を確認
2. **内容確認**: `readFile`で実際の内容を確認
3. **使用可能性確認**: 実際のコードベースでの利用状況を確認

#### 禁止事項
- ❌ 記憶や推測に基づくコンポーネント参照
- ❌ 存在しないファイル・コンポーネントの使用
- ❌ 確認なしでの機能実装

#### 適用例
```php
// ❌ 悪い例：確認なしで使用
<x-navigation.breadcrumb />

// ✅ 良い例：実際のファイル確認後に使用
// 1. listDirectory で components/navigation/ の存在確認
// 2. 存在しない場合は代替手段を実装
```

## 編集後の必須確認プロセス

### 🔍 編集後は必ず確認フェーズを実行

**適用対象**: 全てのファイル編集・設定変更

### 確認手順

1. **編集内容の再確認**
   - 変更したファイルの内容を再読み込み
   - 構文エラー・設定ミスがないかチェック
   - パス設定・依存関係の整合性確認

2. **関連ファイルへの影響確認**
   - 変更が他のファイルに影響しないかチェック
   - 設定ファイル間の整合性確認

3. **テスト実行（該当する場合）**
   - ローカルでのテスト実行
   - CI/CDパイプラインでの動作確認

### 確認が必要な編集例

- **設定ファイル**: `.env`, `docker-compose.yml`, GitHub Actions workflows
- **コードファイル**: Controllers, Models, Views, Routes
- **依存関係**: `composer.json`, `package.json`
- **インフラ設定**: Dockerfile, nginx設定

### 確認フェーズのチェックリスト

- [ ] **実際のファイル存在確認完了**
- [ ] **使用するコンポーネント・機能の実在確認完了**
- [ ] ファイル内容の再確認完了
- [ ] 構文エラーなし
- [ ] パス設定正確
- [ ] 依存関係整合性OK
- [ ] 関連ファイルへの影響なし
- [ ] テスト実行（必要に応じて）

### エラー発生時の対応

1. **即座に修正**
2. **再確認フェーズ実行**
3. **修正内容の説明**
4. **ユーザーへの報告**

---

**このルールにより、品質の高い開発プロセスを維持します。**